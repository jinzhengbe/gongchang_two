import{d as k,r as c,b as N,e as C,c as i,a as t,f as m,w as x,g as u,h as L,i as f,v as D,j as M,F as g,k as y,o as n,t as a,n as O}from"./index-CP6BfJf4.js";import{f as S}from"./index-CaunA62S.js";const V={class:"min-h-screen bg-gray-100"},T={class:"bg-white shadow-sm"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},q={class:"flex justify-between h-16"},A={class:"flex items-center"},B={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},P={class:"md:flex md:items-center md:justify-between"},F={class:"mt-4 flex md:mt-0 md:ml-4"},R={class:"mt-4"},z={class:"flex flex-col sm:flex-row"},H={class:"flex-1"},U={class:"relative rounded-md shadow-sm"},E={class:"mt-4 sm:mt-0 sm:ml-4"},Q=["value"],G={class:"mt-8 flex flex-col"},I={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},J={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},K={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},W={class:"min-w-full divide-y divide-gray-200"},X={class:"bg-white divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},nt=k({__name:"OrderListView",setup(lt){const l=c(""),d=c(""),w=c(["待处理","进行中","已完成","已取消"]),p=c([]),h=o=>({待处理:"bg-yellow-100 text-yellow-800",进行中:"bg-blue-100 text-blue-800",已完成:"bg-green-100 text-green-800",已取消:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",v=o=>S(new Date(o),"yyyy-MM-dd HH:mm"),_=N(()=>p.value.filter(o=>{const e=o.orderNumber.toLowerCase().includes(l.value.toLowerCase())||o.customerName.toLowerCase().includes(l.value.toLowerCase())||o.productName.toLowerCase().includes(l.value.toLowerCase()),r=!d.value||o.status===d.value;return e&&r})),b=async()=>{try{p.value=[{id:1,orderNumber:"ORD-2024-001",customerName:"张三",productName:"夏季连衣裙",quantity:2,totalPrice:598,status:"进行中",createdAt:"2024-04-15T10:00:00"},{id:2,orderNumber:"ORD-2024-002",customerName:"李四",productName:"休闲衬衫",quantity:1,totalPrice:199,status:"待处理",createdAt:"2024-04-14T15:30:00"},{id:3,orderNumber:"ORD-2024-003",customerName:"王五",productName:"棉麻面料",quantity:5,totalPrice:445,status:"已完成",createdAt:"2024-04-13T09:15:00"}]}catch(o){console.error("获取订单列表失败:",o)}};return C(()=>{b()}),(o,e)=>{const r=L("router-link");return n(),i("div",V,[t("nav",T,[t("div",j,[t("div",q,[e[3]||(e[3]=t("div",{class:"flex"},[t("div",{class:"flex-shrink-0 flex items-center"},[t("h1",{class:"text-xl font-bold text-indigo-600"},"SewingMast")])],-1)),t("div",A,[m(r,{to:"/dashboard",class:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium"},{default:x(()=>e[2]||(e[2]=[u(" 返回仪表盘 ")])),_:1})])])])]),t("main",B,[t("div",P,[e[5]||(e[5]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," 订单管理 ")],-1)),t("div",F,[m(r,{to:"/orders/create",class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:x(()=>e[4]||(e[4]=[u(" 创建订单 ")])),_:1})])]),t("div",R,[t("div",z,[t("div",H,[t("div",U,[e[6]||(e[6]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),type:"text",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"搜索订单..."},null,512),[[D,l.value]])])]),t("div",E,[f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[e[7]||(e[7]=t("option",{value:""},"所有状态",-1)),(n(!0),i(g,null,y(w.value,s=>(n(),i("option",{key:s,value:s},a(s),9,Q))),128))],512),[[M,d.value]])])])]),t("div",G,[t("div",I,[t("div",J,[t("div",K,[t("table",W,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 订单号 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 客户 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 产品 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 数量 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 总价 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 状态 "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 创建时间 "),t("th",{scope:"col",class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"操作")])])],-1)),t("tbody",X,[(n(!0),i(g,null,y(_.value,s=>(n(),i("tr",{key:s.id},[t("td",Y,a(s.orderNumber),1),t("td",Z,a(s.customerName),1),t("td",$,a(s.productName),1),t("td",tt,a(s.quantity),1),t("td",et," ¥"+a(s.totalPrice),1),t("td",st,[t("span",{class:O([h(s.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(s.status),3)]),t("td",ot,a(v(s.createdAt)),1),t("td",at,[m(r,{to:"/orders/"+s.id,class:"text-indigo-600 hover:text-indigo-900"},{default:x(()=>e[8]||(e[8]=[u(" 查看 ")])),_:2},1032,["to"])])]))),128))])])])])])])])])}}});export{nt as default};
